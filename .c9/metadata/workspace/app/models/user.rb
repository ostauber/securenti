{"filter":false,"title":"user.rb","tooltip":"/app/models/user.rb","undoManager":{"mark":32,"position":32,"stack":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":78,"column":12},"end":{"row":78,"column":13}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":78,"column":11},"end":{"row":78,"column":12}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":78,"column":10},"end":{"row":78,"column":11}},"text":"_"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":43},"end":{"row":2,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":2,"column":0},"end":{"row":2,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":2},"end":{"row":2,"column":64}},"text":"  has_many :active_relationships, class_name:  \"Relationship\","},{"action":"insertText","range":{"start":{"row":2,"column":64},"end":{"row":3,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":3,"column":0},"end":{"row":5,"column":0}},"lines":["                                  foreign_key: \"follower_id\",","                                  dependent:   :destroy"]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":4,"column":55},"end":{"row":5,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":2,"column":2},"end":{"row":2,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":55},"end":{"row":5,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":34}},"text":"                                  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":34},"end":{"row":5,"column":106}},"text":"  has_many :following, through: :active_relationships, source: :followed"},{"action":"insertText","range":{"start":{"row":5,"column":106},"end":{"row":6,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":34},"end":{"row":5,"column":36}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":32},"end":{"row":5,"column":34}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":30},"end":{"row":5,"column":32}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":28},"end":{"row":5,"column":30}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":26},"end":{"row":5,"column":28}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":24},"end":{"row":5,"column":26}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":22},"end":{"row":5,"column":24}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":20},"end":{"row":5,"column":22}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":18},"end":{"row":5,"column":20}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":16},"end":{"row":5,"column":18}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":14},"end":{"row":5,"column":16}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":12},"end":{"row":5,"column":14}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":10},"end":{"row":5,"column":12}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":8},"end":{"row":5,"column":10}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":6},"end":{"row":5,"column":8}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":4},"end":{"row":5,"column":6}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":2},"end":{"row":5,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":72},"end":{"row":6,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":0},"end":{"row":87,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":87,"column":0},"end":{"row":87,"column":19}},"text":"  # Follows a user."},{"action":"insertText","range":{"start":{"row":87,"column":19},"end":{"row":88,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":88,"column":0},"end":{"row":102,"column":0}},"lines":["  def follow(other_user)","    active_relationships.create(followed_id: other_user.id)","  end","","  # Unfollows a user.","  def unfollow(other_user)","    active_relationships.find_by(followed_id: other_user.id).destroy","  end","","  # Returns true if the current user is following the other user.","  def following?(other_user)","    following.include?(other_user)","  end",""]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":101,"column":0},"end":{"row":102,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":1,"column":0},"end":{"row":6,"column":0}},"nl":"\n","lines":["  has_many :microposts, dependent: :destroy","  has_many :active_relationships, class_name:  \"Relationship\",","                                  foreign_key: \"follower_id\",","                                  dependent:   :destroy","  has_many :following, through: :active_relationships, source: :followed"]},{"action":"insertText","range":{"start":{"row":1,"column":0},"end":{"row":1,"column":31}},"text":"class User < ActiveRecord::Base"},{"action":"insertText","range":{"start":{"row":1,"column":31},"end":{"row":2,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":2,"column":0},"end":{"row":11,"column":0}},"lines":["  has_many :microposts, dependent: :destroy","  has_many :active_relationships,  class_name:  \"Relationship\",","                                   foreign_key: \"follower_id\",","                                   dependent:   :destroy","  has_many :passive_relationships, class_name:  \"Relationship\",","                                   foreign_key: \"followed_id\",","                                   dependent:   :destroy","  has_many :following, through: :active_relationships,  source: :followed","  has_many :followers, through: :passive_relationships, source: :follower"]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":1,"column":0},"end":{"row":2,"column":0}},"nl":"\n","lines":["class User < ActiveRecord::Base"]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":86,"column":0},"end":{"row":90,"column":0}},"nl":"\n","lines":["  def feed","    # This is preliminary. See \"Following users\" for the full implementation.","    Micropost.where(\"user_id = ?\", id)","  end"]},{"action":"insertText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":33}},"text":"  # Returns a user's status feed."},{"action":"insertText","range":{"start":{"row":86,"column":33},"end":{"row":87,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":87,"column":0},"end":{"row":90,"column":0}},"lines":["  def feed","    Micropost.from_users_followed_by(self)","  end"]}]}]]},"ace":{"folds":[],"scrolltop":989.1111316680908,"scrollleft":0,"selection":{"start":{"row":90,"column":0},"end":{"row":90,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1416010081703,"hash":"983d37d8d692ded62f4d0aaab1a602be1eaadb1f"}